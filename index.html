<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Copyright (c) 2021 8th Wall, Inc. -->
    <!-- head.html is optional; elements will be added to your html head before app.js is loaded. -->
    <!-- Use "8thwall:" meta tags to hook into 8th Wall's build process and developer tools. -->
     <script src="//cdn.8thwall.com/web/aframe/8frame-1.1.0.min.js"></script>
     <script src="//cdn.8thwall.com/web/xrextras/xrextras.js"></script>
     <script src="//cdn.8thwall.com/web/aframe/aframe-extras-6.1.1.min.js"></script>

    <!-- 8thWall Web - Replace the app key here with your own app key -->
     <script src="//apps.8thwall.com/xrweb?appKey=jh4bpv6DoDMifX53rHGDN72sYgL6ngVU2IUw2i0JfXWB48Qnai8aNYZXm2XSvxtdjAtxR5"></script>
  
  </head>
  
  <body>
    
   <!-- Copyright (c) 2021 8th Wall, Inc. -->
<!-- body.html is optional; elements will be added to your html body after app.js is loaded. -->
<a-scene 
  physics="driver: ammo"
  xrextras-almost-there
  xrextras-loading
  xrextras-runtime-error
  xrextras-pause-on-hidden
  xrface="mirroredDisplay: true; cameraDirection: front; allowedDevices: any">
  
  <!-- Assets block loading of the scene until they are fetched. -->
  <a-assets>
    <a-asset-item id="pirate-hat" src="https://cdn.glitch.com/f19363a1-0ba6-4ae4-89b2-4e408e764325%2Funtitled.glb"></a-asset-item>
    <a-asset-item id="head-occluder" src="https://cdn.glitch.com/f19363a1-0ba6-4ae4-89b2-4e408e764325%2Fhead-occluder.glb"></a-asset-item>
  </a-assets>
  
  <xrextras-capture-button></xrextras-capture-button>
  
  <xrextras-capture-config
    watermark-image-url="./assets/Images/8logo.png"
    watermark-max-width="100"
    watermark-max-height="10"
    
    cover-image-url="./assets/Images/pirate-hat.jpg"
    end-card-call-to-action="Wear the hat:"
    short-link="8th.io/pirate"
    footer-image-url="./assets/Images/pirate.svg"
  ></xrextras-capture-config>
  
  <xrextras-capture-preview></xrextras-capture-preview>
  
  <a-camera look-controls="enabled: false" wasd-controls="enabled: false" position="0 1.6 0"></a-camera>
  
  <xrextras-faceanchor>
    
    <!--
      Prevents the rendering of models behind head. This must be in the scene
      before any other models you want to occlude.       
    -->
    <a-entity 
      gltf-model="#head-occluder"
      xrextras-hider-material
      position="0 0 0.25" 
      scale="1.2 1.1 1.35" 
      rotation="-6 0 0">
      <a-entity 
        position="0 0 -0.1"
        ammo-body="type: static" 
        ammo-shape="type: sphere; fit: manual; sphereRadius: 0.1">
      </a-entity>
    </a-entity>
    
    <!-- face occluder -->
    <xrextras-face-mesh xrextras-hider-material></xrextras-face-mesh>
    
    <!-- pirate hat -->
    <a-entity 
      gltf-model="#pirate-hat"  animation-mixer="clip: rotb; loop: repeat; crossFadeDuration: 0.4" position="0 0.2 -0.2" scale="5 5 5" rotation="-10 0 0">
    </a-entity>
    
    <!-- physics chain -->
    <a-entity position="-0.65 0.55 -0.38" rotation="0 180 0"  ball-chain="count: 5"></a-entity>
    
  </xrextras-faceanchor>
  
  <a-light type="directional" target="#face" position="0 1.8 3" intensity="0.8"></a-light>
  <a-light type="ambient" intensity="0.5"></a-light>
  
</a-scene>
  </body>
</html>
